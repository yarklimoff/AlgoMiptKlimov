// https://contest.yandex.ru/contest/17594/run-report/32074994/
#include "iostream"
#include "vector"
#define INF 1000000


struct edge {
    long s, p;
};


void fill(std::vector<std::vector<edge>>& e, long& M) {
    long s, f, p;
    for (long i = 0; i < M; ++i) {
        std::cin >> s >> f >> p;
        --s; --f;
        edge ed;
        ed.s = s;
        ed.p = p;
        e[f].push_back(ed);
    }
}


void solve(std::vector<std::vector<edge>>& e, long& M, long& K, long& S, long& F) {
    --S, --F;
    long N = e.size();
    std::vector<std::vector<long>> dist(N, std::vector<long>(N, INF));
    dist[0][S] = 0;
    for (long k = 0; k <= std::min(K, N - 2); ++k) {
        for (long v = 0; v < N; ++v) {
            for (auto i : e[v]) {
                    dist[k+1][v] = std::min(dist[k+1][v], dist[k][i.s] + i.p);
            }
        }
    }
    long mina = dist[0][F];
    for (long i = 1; i <= std::min(K, N-1); ++i) {
        mina = std::min(mina, dist[i][F]);
    }
    if (mina >= INF) {
        std::cout << -1 << std::endl;
    }
    else
        std::cout << mina << std::endl;
}


int main() {
    long N, M, K, S, F;
    std::cin >> N >> M >> K >> S >> F;
    std::vector<std::vector<edge>> edges(N, std::vector<edge> ());
    fill(edges, M);
    solve(edges, M, K, S, F);
    return 0;
}
